(()=>{var e={};e.id=778,e.ids=[778],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3552:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Projects\\\\Important\\\\Shop - Copy\\\\ui\\\\app\\\\auth\\\\signup\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Projects\\Important\\Shop - Copy\\ui\\app\\auth\\signup\\page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},26532:(e,s,t)=>{Promise.resolve().then(t.bind(t,3552))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},46055:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(88077);let a=async e=>[{type:"image/x-icon",sizes:"100x100",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},53050:(e,s,t)=>{"use strict";t.r(s),t.d(s,{"008b0ee705046773f459a88572ff2944041ee4eda2":()=>a.bW,"40c70ec598ee2f92e08f96f758bcbb7ee9a7225525":()=>a.T,"60216be9ca5ea01d5fad7ae985654ffaeed9510463":()=>a.Ay,"7f0da9a825f063fbb3821bd17d46c593bb1dac4413":()=>l,"7f8fe70644aa9bb0033cb4df6dc1b76f73ce616f67":()=>r.W});var r=t(97269),a=t(2423),i=t(21590);t(70376);var o=t(24785),n=t(99344);let l=async e=>{try{let s=e.get("email")?.toString()||"";e.set("email",s.toLowerCase()),console.log("Attempting to register user with email:",e.get("rawEmail"));let t=await o.A.post("http://localhost:3001/users/register",e,{headers:{"Content-Type":"multipart/form-data",Accept:"application/json"},withCredentials:!0});return console.log("Registration response:",t.data),{success:!0,message:"Registration successful"}}catch(e){if(console.error("Signup error:",e),"ECONNREFUSED"===e.code)return{success:!1,message:"Cannot connect to server. Please make sure the backend server is running."};if(e.response?.status===409)return{success:!1,message:"Email already exists"};if(e.response?.status===400)return{success:!1,message:e.response.data.message||"Invalid registration data"};return{success:!1,message:e.response?.data?.message||"Failed to register user"}}};(0,n.D)([l]),(0,i.A)(l,"7f0da9a825f063fbb3821bd17d46c593bb1dac4413",null)},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},86833:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=t(70260),a=t(28203),i=t(25155),o=t.n(i),n=t(67292),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(s,l);let d={children:["",{children:["auth",{children:["signup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3552)),"D:\\Projects\\Important\\Shop - Copy\\ui\\app\\auth\\signup\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,19611)),"D:\\Projects\\Important\\Shop - Copy\\ui\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["D:\\Projects\\Important\\Shop - Copy\\ui\\app\\auth\\signup\\page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/auth/signup/page",pathname:"/auth/signup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},91620:(e,s,t)=>{Promise.resolve().then(t.bind(t,97364))},94735:e=>{"use strict";e.exports=require("events")},97364:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var r=t(45512),a=t(6868),i=t(81914),o=t(16131),n=t(79334),l=t(87021),d=t(97643),c=t(25409),p=t(47699),u=t(26248);let m=(0,u.createServerReference)("7f0da9a825f063fbb3821bd17d46c593bb1dac4413",u.callServer,void 0,u.findSourceMapURL,"signup");var x=t(58009),h=t(91542);let f=o.z.object({username:o.z.string().min(3,"Username must be at least 3 characters long"),email:o.z.string().email("Please enter a valid email address"),password:o.z.string().min(6,"Password must be at least 6 characters long"),confirmPassword:o.z.string(),name:o.z.string().optional(),profileImage:o.z.any().optional()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function g(){let e=(0,n.useRouter)(),[s,t]=(0,x.useState)(null),[o,u]=(0,x.useState)(null),{register:g,handleSubmit:b,formState:{errors:v,isSubmitting:y},setError:j}=(0,a.mN)({resolver:(0,i.u)(f)}),w=async s=>{t(null);try{let t=new FormData;t.append("username",s.username),t.append("email",s.email),t.append("password",s.password),t.append("name",s.name||""),o&&t.append("profileImage",o);let r=await m(t);r.success?(h.o.success("Account created!",{description:"Your account has been created successfully.",duration:3e3}),setTimeout(()=>{e.push("/auth/login")},2e3)):j("root",{type:"manual",message:r.message||"Registration failed"})}catch(e){console.error("Submission error:",e),j("root",{type:"manual",message:e.response?.data?.message||"Failed to connect to server"})}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d.Zp,{className:"w-[350px] mx-auto mt-20",children:[(0,r.jsx)(d.aR,{className:"text-center",children:(0,r.jsx)(d.ZB,{className:"text-2xl font-bold text-foreground",children:"Sign Up"})}),(0,r.jsx)(d.Wu,{children:(0,r.jsxs)("form",{onSubmit:b(w),className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(p.J,{htmlFor:"username",children:"Username"}),(0,r.jsx)(c.p,{id:"username",type:"text",placeholder:"Enter your username",...g("username"),disabled:y}),v.username&&(0,r.jsx)("p",{className:"text-destructive text-sm",children:v.username.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(p.J,{htmlFor:"email",children:"Email"}),(0,r.jsx)(c.p,{id:"email",type:"email",placeholder:"Enter your email",...g("email"),disabled:y}),v.email&&(0,r.jsx)("p",{className:"text-destructive text-sm",children:v.email.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(p.J,{htmlFor:"name",children:"Name"}),(0,r.jsx)(c.p,{id:"name",type:"text",placeholder:"Enter your name",...g("name"),disabled:y})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(p.J,{htmlFor:"password",children:"Password"}),(0,r.jsx)(c.p,{id:"password",type:"password",placeholder:"Enter your password",...g("password"),disabled:y}),v.password&&(0,r.jsx)("p",{className:"text-destructive text-sm",children:v.password.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(p.J,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,r.jsx)(c.p,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",...g("confirmPassword"),disabled:y}),v.confirmPassword&&(0,r.jsx)("p",{className:"text-destructive text-sm",children:v.confirmPassword.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(p.J,{htmlFor:"profileImage",children:"Profile Image"}),(0,r.jsx)(c.p,{id:"profileImage",type:"file",accept:"image/jpeg,image/png",onChange:e=>{e.target.files&&e.target.files[0]&&u(e.target.files[0])},disabled:y})]}),v.root&&(0,r.jsx)("p",{className:"text-destructive text-sm",children:v.root.message}),s&&(0,r.jsx)("p",{className:"text-destructive text-sm",children:s}),(0,r.jsx)(l.$,{type:"submit",className:"w-full",disabled:y,children:y?"Signing up...":"Sign Up"}),(0,r.jsxs)("div",{className:"text-center mt-4",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Already have an account?"}),(0,r.jsx)(l.$,{type:"button",variant:"link",className:"text-primary hover:text-primary/80",onClick:()=>e.push("/auth/login"),children:"Login here"})]})]})})]}),(0,r.jsx)(h.Toaster,{richColors:!0,position:"top-center"})]})}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[638,561,77,277],()=>t(86833));module.exports=r})();