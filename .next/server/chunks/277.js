exports.id=277,exports.ids=[277],exports.modules={2423:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>d,T:()=>u,bW:()=>m});var a=s(21590);s(70376);var r=s(42385),n=s(24785),o=s(60851),i=s(99344);let l="http://localhost:3001";async function c(){try{let e=await (0,r.UL)(),t=e.get("access_token")?.value;if(t)return t;let s=o.A.get("access_token");if(s)return s;throw Error("No authentication token found")}catch(e){throw console.error("Error getting token:",e),e}}async function d(e,t){try{let s=await c(),a=Object.fromEntries(t);console.log("Sending request to:",`${l}/${e}`);let r=await fetch(`${l}/${e}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(a),credentials:"include"});console.log("Response status:",r.status);let n=await r.json();if(!r.ok)throw console.error("Error response:",n),Error(n.message||`Failed to post data: ${r.statusText}`);return n}catch(e){throw console.error("Error in post request:",e),e}}async function u(e){try{console.log("Fetching products from:",e);let t=await n.A.get(e,{headers:{"Content-Type":"application/json"}});return console.log("Response status:",t.status),console.log("Products fetched successfully"),t.data}catch(e){throw console.error("Error fetching products:",e),"ECONNREFUSED"===e.code&&console.error("Connection refused. Make sure your backend server is running on the correct port."),e}}async function m(){try{let e=await c(),t=`${l}/categories`;console.log("Fetching categories from:",t);let s=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},credentials:"include"});if(console.log("Response status:",s.status),!s.ok){let e=await s.json().catch(()=>({message:s.statusText}));throw console.error("Error response:",e),Error(e.message||`Failed to fetch categories: ${s.statusText}`)}let a=await s.json();return console.log("Categories fetched successfully"),a}catch(e){throw console.error("Error fetching categories:",e),e}}(0,i.D)([d,u,m]),(0,a.A)(d,"60216be9ca5ea01d5fad7ae985654ffaeed9510463",null),(0,a.A)(u,"40c70ec598ee2f92e08f96f758bcbb7ee9a7225525",null),(0,a.A)(m,"008b0ee705046773f459a88572ff2944041ee4eda2",null)},2520:(e,t,s)=>{"use strict";s.d(t,{default:()=>es});var a=s(45512),r=s(58009),n=s(79334),o=s(28531),i=s.n(o),l=s(51296),c=s(76438),d=s(87137),u=s(61606),m=s(64977),h=s(87798),p=s(30722),x=s(87021),f=s(88416),g=s(59462);function v({...e}){return(0,a.jsx)(f.bL,{"data-slot":"dropdown-menu",...e})}function j({...e}){return(0,a.jsx)(f.l9,{"data-slot":"dropdown-menu-trigger",...e})}function b({className:e,sideOffset:t=4,...s}){return(0,a.jsx)(f.ZL,{children:(0,a.jsx)(f.UC,{"data-slot":"dropdown-menu-content",sideOffset:t,className:(0,g.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...s})})}function y({className:e,inset:t,variant:s="default",...r}){return(0,a.jsx)(f.q7,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":s,className:(0,g.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}var N=s(32290),w=s(44269);function C({...e}){return(0,a.jsx)(N.bL,{"data-slot":"sheet",...e})}function k({...e}){return(0,a.jsx)(N.l9,{"data-slot":"sheet-trigger",...e})}function A({...e}){return(0,a.jsx)(N.ZL,{"data-slot":"sheet-portal",...e})}function P({className:e,...t}){return(0,a.jsx)(N.hJ,{"data-slot":"sheet-overlay",className:(0,g.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function z({className:e,children:t,side:s="right",...r}){return(0,a.jsxs)(A,{children:[(0,a.jsx)(P,{}),(0,a.jsxs)(N.UC,{"data-slot":"sheet-content",className:(0,g.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===s&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===s&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===s&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===s&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[t,(0,a.jsxs)(N.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,a.jsx)(w.A,{className:"size-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function S({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"sheet-header",className:(0,g.cn)("flex flex-col gap-1.5 p-4",e),...t})}function I({className:e,...t}){return(0,a.jsx)(N.hE,{"data-slot":"sheet-title",className:(0,g.cn)("text-foreground font-semibold",e),...t})}var E=s(58076);function $({className:e,...t}){return(0,a.jsx)(E.bL,{"data-slot":"avatar",className:(0,g.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function L({className:e,...t}){return(0,a.jsx)(E._V,{"data-slot":"avatar-image",className:(0,g.cn)("aspect-square size-full",e),...t})}function D({className:e,...t}){return(0,a.jsx)(E.H4,{"data-slot":"avatar-fallback",className:(0,g.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}var F=s(22988);let T=[{title:"Login",path:"/auth/login"},{title:"Signup",path:"/auth/signup"}];var _=s(25998),R=s(85668),U=s(71965),q=s(97643),J=s(47699),O=s(33042),W=s(8866),Z=s(45723),B=s(12784);let G="http://localhost:3001";function M(e){return e?e.startsWith("http")?e:e.startsWith("/uploads")?`${G}${e}`:`${G}/uploads/profiles/${e}`:"/avatars/01.png"}var V=s(91542),H=s(86235);function Q({open:e,onOpenChange:t}){let[s,n]=(0,r.useState)(null),[o,i]=(0,r.useState)(!0),[l,c]=(0,r.useState)(!1),d=async()=>{c(!0);try{V.o.success("Profile edit mode enabled")}catch(e){V.o.error("Failed to edit profile",{description:e.message})}finally{c(!1)}};return o?(0,a.jsx)(U.lG,{open:e,onOpenChange:t,children:(0,a.jsxs)(U.Cf,{children:[(0,a.jsx)(U.c7,{children:(0,a.jsx)(U.L3,{children:"Loading Profile"})}),(0,a.jsx)("div",{className:"flex items-center justify-center h-40",children:(0,a.jsx)(H.A,{className:"h-8 w-8 animate-spin"})})]})}):s?(0,a.jsx)(U.lG,{open:e,onOpenChange:t,children:(0,a.jsxs)(U.Cf,{children:[(0,a.jsx)(U.c7,{children:(0,a.jsx)(U.L3,{children:"Profile"})}),(0,a.jsxs)(q.Zp,{children:[(0,a.jsx)(q.aR,{children:(0,a.jsx)(q.ZB,{children:"User Information"})}),(0,a.jsx)(q.Wu,{className:"space-y-6",children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)($,{className:"h-24 w-24",children:s.profileImage?(0,a.jsx)(L,{src:M(s.profileImage),alt:`${s.name||s.username}'s avatar`,onError:e=>{console.error("=== Avatar Image Error ==="),console.error("Failed to load image:",M(s.profileImage)),e.target.src="/avatars/01.png"}}):(0,a.jsx)(D,{className:"text-2xl",children:(s.name||s.username).charAt(0).toUpperCase()})}),(0,a.jsx)(x.$,{variant:"outline",size:"icon",className:"absolute bottom-0 right-0 h-8 w-8 rounded-full",onClick:d,disabled:l,children:(0,a.jsx)(O.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"text-center space-y-1",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold",children:s.name||s.username}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-muted-foreground",children:[(0,a.jsx)(W.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm",children:s.email})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-muted-foreground",children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{className:"text-sm",children:["@",s.username]})]})]}),(0,a.jsx)(B.w,{}),(0,a.jsxs)("div",{className:"w-full space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)(J.J,{className:"text-muted-foreground",children:"Member since"})]}),(0,a.jsx)("span",{className:"text-muted-foreground",children:new Date(s.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long"})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Z.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)(J.J,{className:"text-muted-foreground",children:"Last updated"})]}),(0,a.jsx)("span",{className:"text-muted-foreground",children:new Date(s.updatedAt).toLocaleDateString("en-US",{year:"numeric",month:"long"})})]})]}),(0,a.jsxs)("div",{className:"flex space-x-4 w-full",children:[(0,a.jsx)(x.$,{variant:"outline",className:"flex-1",onClick:d,disabled:l,children:"Edit Profile"}),(0,a.jsx)(x.$,{variant:"outline",className:"flex-1",children:"Settings"})]})]})})]})]})}):(0,a.jsx)(U.lG,{open:e,onOpenChange:t,children:(0,a.jsxs)(U.Cf,{children:[(0,a.jsx)(U.c7,{children:(0,a.jsx)(U.L3,{children:"Profile"})}),(0,a.jsx)("div",{className:"flex items-center justify-center h-40",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No profile data available"})})]})})}var X=s(92411),Y=s(32848),K=s(76795),ee=s(3371);function et(){let{setTheme:e}=(0,ee.D)();return(0,a.jsxs)(v,{children:[(0,a.jsx)(j,{asChild:!0,children:(0,a.jsxs)(x.$,{variant:"ghost",size:"icon",children:[(0,a.jsx)(X.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,a.jsx)(Y.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,a.jsxs)(b,{align:"end",children:[(0,a.jsxs)(y,{onClick:()=>e("light"),children:[(0,a.jsx)(X.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Light"})]}),(0,a.jsxs)(y,{onClick:()=>e("dark"),children:[(0,a.jsx)(Y.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Dark"})]}),(0,a.jsxs)(y,{onClick:()=>e("system"),children:[(0,a.jsx)(K.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"System"})]})]})]})}function es(){let{isAuthenticated:e,setIsAuthenticated:t}=(0,F.A)(),s=(0,n.useRouter)(),[o,f]=(0,r.useState)(!1),[g,N]=(0,r.useState)(!1),[w,A]=(0,r.useState)(null),[P,E]=(0,r.useState)(!0);return P?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,a.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex h-24 items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:"mr-4 hidden md:flex",children:(0,a.jsxs)(i(),{href:"/",className:"flex items-center space-x-4",children:[(0,a.jsx)(l.A,{className:"h-10 w-10 text-primary"}),(0,a.jsx)("span",{className:"hidden text-2xl font-bold sm:inline-block",children:"Shoppy"})]})})}),(0,a.jsxs)(C,{open:o,onOpenChange:f,children:[(0,a.jsx)(k,{asChild:!0,children:(0,a.jsxs)(x.$,{variant:"ghost",size:"icon",className:"mr-2 px-0 text-base hover:bg-accent hover:text-accent-foreground focus-visible:bg-accent focus-visible:ring-0 focus-visible:ring-offset-0 md:hidden",children:[(0,a.jsx)(c.A,{className:"h-7 w-7"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle Menu"})]})}),(0,a.jsxs)(z,{side:"left",className:"w-[300px]",children:[(0,a.jsx)(S,{children:(0,a.jsxs)(I,{className:"flex items-center space-x-3",children:[(0,a.jsx)(l.A,{className:"h-8 w-8 text-primary"}),(0,a.jsx)("span",{className:"text-xl",children:"Shoppy"})]})}),e?(0,a.jsx)("nav",{className:"flex flex-col space-y-4 mt-8",children:[{title:"Dashboard",path:"/dashboard",icon:(0,a.jsx)(d.A,{className:"mr-2 h-5 w-5"})},{title:"Products",path:"/products",icon:(0,a.jsx)(l.A,{className:"mr-2 h-5 w-5"})},{title:"Create Product",path:"/products/create",icon:(0,a.jsx)(u.A,{className:"mr-2 h-5 w-5"})},{title:"Users",path:"/users",icon:(0,a.jsx)(m.A,{className:"mr-2 h-5 w-5"})}].map(e=>(0,a.jsxs)(x.$,{variant:"ghost",className:"w-full justify-start text-lg",onClick:()=>{f(!1),s.push(e.path)},children:[e.icon,e.title]},e.path))}):(0,a.jsx)("nav",{className:"flex flex-col space-y-4 mt-8",children:T.map(e=>(0,a.jsx)(x.$,{variant:"ghost",className:"w-full justify-start text-lg",onClick:()=>{f(!1),s.push(e.path)},children:e.title},e.title))})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsx)(et,{}),e&&(0,a.jsxs)(v,{children:[(0,a.jsx)(j,{asChild:!0,children:(0,a.jsx)(x.$,{variant:"ghost",size:"icon",className:"relative h-14 w-14 rounded-full hover:bg-accent hover:text-accent-foreground",children:(0,a.jsx)($,{className:"h-14 w-14",children:w?.profileImage?(0,a.jsx)(L,{src:M(w.profileImage),alt:`${w.name||w.username}'s avatar`,onError:e=>{e.target.src="/avatars/01.png"}}):(0,a.jsx)(D,{className:"text-xl",children:(w?.name||w?.username||"U").charAt(0).toUpperCase()})})})}),(0,a.jsxs)(b,{align:"end",className:"w-56",children:[(0,a.jsxs)(y,{onClick:()=>{console.log("Profile menu item clicked"),N(!0)},className:"cursor-pointer text-base py-2",children:[(0,a.jsx)(h.A,{className:"mr-2 h-5 w-5"}),"Profile"]}),(0,a.jsxs)(y,{onClick:()=>{localStorage.removeItem("access_token"),_.A.remove("access_token"),delete R.A.defaults.headers.common.Authorization,window.location.href="/auth/login",s.push("auth/login")},className:"cursor-pointer text-destructive focus:text-destructive text-base py-2",children:[(0,a.jsx)(p.A,{className:"mr-2 h-5 w-5"}),"Logout"]})]})]})]})]})})}),(0,a.jsx)(Q,{open:g,onOpenChange:e=>{console.log("Profile dialog state changed:",e),N(e)}})]})}},5739:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,13219,23)),Promise.resolve().then(s.t.bind(s,34863,23)),Promise.resolve().then(s.t.bind(s,25155,23)),Promise.resolve().then(s.t.bind(s,40802,23)),Promise.resolve().then(s.t.bind(s,9350,23)),Promise.resolve().then(s.t.bind(s,48530,23)),Promise.resolve().then(s.t.bind(s,81601,23)),Promise.resolve().then(s.t.bind(s,88921,23))},10669:(e,t,s)=>{Promise.resolve().then(s.bind(s,22988)),Promise.resolve().then(s.bind(s,65211)),Promise.resolve().then(s.bind(s,2520)),Promise.resolve().then(s.bind(s,44114)),Promise.resolve().then(s.bind(s,41571)),Promise.resolve().then(s.bind(s,91542))},12784:(e,t,s)=>{"use strict";s.d(t,{w:()=>o});var a=s(45512);s(58009);var r=s(95802),n=s(59462);function o({className:e,orientation:t="horizontal",decorative:s=!0,...o}){return(0,a.jsx)(r.b,{"data-slot":"separator-root",decorative:s,orientation:t,className:(0,n.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...o})}},15393:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});let a=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Projects\\\\Important\\\\Shop - Copy\\\\ui\\\\app\\\\components\\\\header.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Projects\\Important\\Shop - Copy\\ui\\app\\components\\header.tsx","default")},19611:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(62740),r=s(61421),n=s.n(r);s(82704);var o=s(56814),i=s(15393),l=s(71112),c=s(41063),d=s(51276),u=s(75695);function m({children:e}){return(0,a.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,a.jsx)("body",{className:n().className,children:(0,a.jsx)(c.ThemeProvider,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:(0,a.jsxs)(l.AuthProvider,{children:[(0,a.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",children:[(0,a.jsx)(i.default,{}),(0,a.jsxs)("div",{className:"flex flex-1",children:[(0,a.jsx)(d.default,{}),(0,a.jsx)("main",{className:"flex-1 overflow-auto",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:e})})]}),(0,a.jsx)(u.default,{})]}),(0,a.jsx)(o.Toaster,{richColors:!0,position:"top-center"})]})})})})}},22988:(e,t,s)=>{"use strict";s.d(t,{A:()=>i,AuthProvider:()=>o});var a=s(45512),r=s(58009);let n=(0,r.createContext)({isAuthenticated:!1,setIsAuthenticated:()=>{}});function o({children:e}){let[t,s]=(0,r.useState)(!1);return(0,a.jsx)(n.Provider,{value:{isAuthenticated:t,setIsAuthenticated:s},children:e})}function i(){return(0,r.useContext)(n)}},25409:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(45512);s(58009);var r=s(59462);function n({className:e,type:t,...s}){return(0,a.jsx)("input",{type:t,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}},41063:(e,t,s)=>{"use strict";s.d(t,{ThemeProvider:()=>a});let a=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Projects\\Important\\Shop - Copy\\ui\\app\\providers\\theme-provider.tsx","ThemeProvider")},41571:(e,t,s)=>{"use strict";s.d(t,{ThemeProvider:()=>n});var a=s(45512);s(58009);var r=s(3371);function n({children:e,...t}){return(0,a.jsx)(r.N,{...t,children:e})}},44114:(e,t,s)=>{"use strict";s.d(t,{default:()=>I});var a=s(45512),r=s(28531),n=s.n(r),o=s(79334),i=s(22988),l=s(87021),c=s(87137),d=s(51296),u=s(61606),m=s(64977),h=s(94520),p=s(76438),x=s(44269),f=s(58009),g=s(59462),v=s(97643),j=s(25409),b=s(47699),y=s(54069),N=s(71965),w=s(6868),C=s(81914),k=s(16131),A=s(26248);let P=(0,A.createServerReference)("7f8fe70644aa9bb0033cb4df6dc1b76f73ce616f67",A.callServer,void 0,A.findSourceMapURL,"createProduct");s(92733);let z=k.z.object({name:k.z.string().min(1,"Name is required"),description:k.z.string().min(1,"Description is required"),price:k.z.string().min(1,"Price is required"),categoryId:k.z.string().min(1,"Category is required"),imageFile:k.z.any().optional()});function S({open:e,handleClose:t,onProductCreated:s}){let[r,n]=(0,f.useState)([]),[o,i]=(0,f.useState)(!1),[c,d]=(0,f.useState)(null),{register:u,handleSubmit:m,formState:{errors:h},reset:p,setValue:x}=(0,w.mN)({resolver:(0,C.u)(z)}),g=async e=>{try{i(!0),d(null);let a=document.querySelector('input[type="file"]'),r=a?.files?.[0];if(!r){d("Please select an image");return}let n=new FileReader;n.onload=async a=>{try{let r=a.target?.result;await P({...e,categoryId:parseInt(e.categoryId),price:parseFloat(e.price),imageFile:r}),t(),p(),s?.()}catch(e){d("Failed to create product"),console.error("Error creating product:",e)}finally{i(!1)}},n.readAsDataURL(r)}catch(e){d("Failed to create product"),console.error("Error creating product:",e),i(!1)}};return(0,a.jsx)(N.lG,{open:e,onOpenChange:t,children:(0,a.jsx)(N.Cf,{className:"sm:max-w-[425px]",children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)(N.L3,{className:"text-center mb-4",children:"Create New Product"}),(0,a.jsx)(v.Zp,{className:"w-full",children:(0,a.jsx)(v.Wu,{children:(0,a.jsxs)("form",{onSubmit:m(g),className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid w-full items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,a.jsx)(b.J,{htmlFor:"name",children:"Name"}),(0,a.jsx)(j.p,{id:"name",placeholder:"Product name",...u("name")}),h.name&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:h.name.message})]}),(0,a.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,a.jsx)(b.J,{htmlFor:"description",children:"Description"}),(0,a.jsx)(j.p,{id:"description",placeholder:"Product description",...u("description")}),h.description&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:h.description.message})]}),(0,a.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,a.jsx)(b.J,{htmlFor:"price",children:"Price"}),(0,a.jsx)(j.p,{id:"price",type:"number",placeholder:"Product price",...u("price")}),h.price&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:h.price.message})]}),(0,a.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,a.jsx)(b.J,{htmlFor:"category",children:"Category"}),(0,a.jsxs)(y.l6,{onValueChange:e=>{x("categoryId",e)},children:[(0,a.jsx)(y.bq,{id:"category",children:(0,a.jsx)(y.yv,{placeholder:"Select category"})}),(0,a.jsx)(y.gC,{children:r.map(e=>(0,a.jsx)(y.eb,{value:e.id.toString(),children:e.name},e.id))})]}),h.categoryId&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:h.categoryId.message})]}),(0,a.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,a.jsx)(b.J,{htmlFor:"image",children:"Image"}),(0,a.jsx)(j.p,{id:"image",type:"file",accept:"image/*",...u("imageFile")})]})]}),c&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:c}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)(l.$,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),(0,a.jsx)(l.$,{type:"submit",disabled:o,children:o?"Creating...":"Create Product"})]})]})})})]})})})}function I(){let{isAuthenticated:e}=(0,i.A)(),t=(0,o.usePathname)(),[s,r]=(0,f.useState)(!0),[v,j]=(0,f.useState)(!1);if(!e)return null;let b=[{title:"Dashboard",path:"/",icon:(0,a.jsx)(c.A,{className:"h-5 w-5"})},{title:"Products",path:"/products",icon:(0,a.jsx)(d.A,{className:"h-5 w-5"})},{title:"Create Product",path:"#",icon:(0,a.jsx)(u.A,{className:"h-5 w-5"}),onClick:()=>j(!0)},{title:"Users",path:"/users",icon:(0,a.jsx)(m.A,{className:"h-5 w-5"})},{title:"Settings",path:"/settings",icon:(0,a.jsx)(h.A,{className:"h-5 w-5"})}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S,{open:v,handleClose:()=>j(!1)}),(0,a.jsx)("div",{className:(0,g.cn)("hidden border-r bg-background md:block transition-all duration-300 shadow-sm",s?"w-16":"w-64"),children:(0,a.jsxs)("div",{className:"flex h-full max-h-screen flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex h-14 items-center justify-between border-b px-4 lg:h-[60px] lg:px-6",children:[!s&&(0,a.jsxs)(n(),{href:"/",className:"flex items-center gap-2 font-semibold",children:[(0,a.jsx)(d.A,{className:"h-6 w-6 text-primary"}),(0,a.jsx)("span",{className:"text-lg",children:"Shoppy"})]}),(0,a.jsx)(l.$,{variant:"ghost",size:"icon",className:"ml-auto hover:bg-muted",onClick:()=>r(!s),children:s?(0,a.jsx)(p.A,{className:"h-5 w-5"}):(0,a.jsx)(x.A,{className:"h-5 w-5"})})]}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("nav",{className:"grid items-start px-2 text-sm font-medium lg:px-4",children:b.map(e=>e.onClick?(0,a.jsxs)("button",{onClick:e.onClick,className:(0,g.cn)("flex items-center gap-3 rounded-lg px-3 py-2.5 transition-all hover:bg-muted w-full text-left","text-muted-foreground hover:text-foreground",s&&"justify-center"),children:[e.icon,!s&&(0,a.jsx)("span",{children:e.title})]},e.path):(0,a.jsxs)(n(),{href:e.path,className:(0,g.cn)("flex items-center gap-3 rounded-lg px-3 py-2.5 transition-all hover:bg-muted",t===e.path?"bg-muted text-primary font-medium":"text-muted-foreground hover:text-foreground",s&&"justify-center"),children:[e.icon,!s&&(0,a.jsx)("span",{children:e.title})]},e.path))})})]})})]})}},47699:(e,t,s)=>{"use strict";s.d(t,{J:()=>o});var a=s(45512);s(58009);var r=s(92405),n=s(59462);function o({className:e,...t}){return(0,a.jsx)(r.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}},51276:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});let a=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Projects\\\\Important\\\\Shop - Copy\\\\ui\\\\app\\\\components\\\\sidebar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Projects\\Important\\Shop - Copy\\ui\\app\\components\\sidebar.tsx","default")},54069:(e,t,s)=>{"use strict";s.d(t,{bq:()=>u,eb:()=>h,gC:()=>m,l6:()=>c,yv:()=>d});var a=s(45512);s(58009);var r=s(12182),n=s(98755),o=s(24849),i=s(28638),l=s(59462);function c({...e}){return(0,a.jsx)(r.bL,{"data-slot":"select",...e})}function d({...e}){return(0,a.jsx)(r.WT,{"data-slot":"select-value",...e})}function u({className:e,size:t="default",children:s,...o}){return(0,a.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":t,className:(0,l.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...o,children:[s,(0,a.jsx)(r.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function m({className:e,children:t,position:s="popper",...n}){return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{"data-slot":"select-content",className:(0,l.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...n,children:[(0,a.jsx)(p,{}),(0,a.jsx)(r.LM,{className:(0,l.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(x,{})]})})}function h({className:e,children:t,...s}){return(0,a.jsxs)(r.q7,{"data-slot":"select-item",className:(0,l.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...s,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(o.A,{className:"size-4"})})}),(0,a.jsx)(r.p4,{children:t})]})}function p({className:e,...t}){return(0,a.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(i.A,{className:"size-4"})})}function x({className:e,...t}){return(0,a.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(n.A,{className:"size-4"})})}},59462:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var a=s(82281),r=s(94805);function n(...e){return(0,r.QP)((0,a.$)(e))}},65211:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var a=s(45512),r=s(28531),n=s.n(r),o=s(22988),i=s(87021),l=s(72517),c=s(32790),d=s(94713);function u(){let{isAuthenticated:e}=(0,o.A)(),t=[{name:"Facebook",icon:(0,a.jsx)(l.A,{className:"h-4 w-4"}),href:"#"},{name:"Twitter",icon:(0,a.jsx)(c.A,{className:"h-4 w-4"}),href:"#"},{name:"Instagram",icon:(0,a.jsx)(d.A,{className:"h-4 w-4"}),href:"#"}];return(0,a.jsx)("footer",{className:"bg-background border-t",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-4",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:[{name:"About",href:"/about"},{name:"Contact",href:"/contact"},{name:"Privacy",href:"/privacy"},{name:"Terms",href:"/terms"}].map(e=>(0,a.jsx)(n(),{href:e.href,className:"text-xs text-muted-foreground hover:text-primary transition-colors",children:e.name},e.name))}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:t.map(e=>(0,a.jsx)(i.$,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-full text-muted-foreground hover:text-primary",asChild:!0,children:(0,a.jsxs)(n(),{href:e.href,children:[e.icon,(0,a.jsx)("span",{className:"sr-only",children:e.name})]})},e.name))})]}),(0,a.jsxs)("div",{className:"mt-4 text-center text-xs text-muted-foreground",children:["\xa9 ",new Date().getFullYear()," Shoppy. All rights reserved."]})]})})}},71112:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>r});var a=s(46760);(0,a.registerClientReference)(function(){throw Error("Attempted to call AuthContext() from the server but AuthContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Projects\\Important\\Shop - Copy\\ui\\app\\auth\\auth-context.tsx","AuthContext");let r=(0,a.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Projects\\Important\\Shop - Copy\\ui\\app\\auth\\auth-context.tsx","AuthProvider");(0,a.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Projects\\Important\\Shop - Copy\\ui\\app\\auth\\auth-context.tsx","useAuth")},71965:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>d,L3:()=>m,c7:()=>u,lG:()=>i});var a=s(45512);s(58009);var r=s(32290),n=s(44269),o=s(59462);function i({...e}){return(0,a.jsx)(r.bL,{"data-slot":"dialog",...e})}function l({...e}){return(0,a.jsx)(r.ZL,{"data-slot":"dialog-portal",...e})}function c({className:e,...t}){return(0,a.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function d({className:e,children:t,...s}){return(0,a.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,a.jsx)(c,{}),(0,a.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...s,children:[t,(0,a.jsxs)(r.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,o.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function m({className:e,...t}){return(0,a.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,o.cn)("text-lg leading-none font-semibold",e),...t})}},75695:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});let a=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Projects\\\\Important\\\\Shop - Copy\\\\ui\\\\app\\\\components\\\\footer.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Projects\\Important\\Shop - Copy\\ui\\app\\components\\footer.tsx","default")},81763:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,66959,23)),Promise.resolve().then(s.t.bind(s,33875,23)),Promise.resolve().then(s.t.bind(s,88903,23)),Promise.resolve().then(s.t.bind(s,57174,23)),Promise.resolve().then(s.t.bind(s,84178,23)),Promise.resolve().then(s.t.bind(s,87190,23)),Promise.resolve().then(s.t.bind(s,48429,23)),Promise.resolve().then(s.t.bind(s,61365,23))},82704:()=>{},86701:(e,t,s)=>{Promise.resolve().then(s.bind(s,71112)),Promise.resolve().then(s.bind(s,75695)),Promise.resolve().then(s.bind(s,15393)),Promise.resolve().then(s.bind(s,51276)),Promise.resolve().then(s.bind(s,41063)),Promise.resolve().then(s.bind(s,56814))},87021:(e,t,s)=>{"use strict";s.d(t,{$:()=>l});var a=s(45512);s(58009);var r=s(76660),n=s(21643),o=s(59462);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l({className:e,variant:t,size:s,asChild:n=!1,...l}){let c=n?r.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,o.cn)(i({variant:t,size:s,className:e})),...l})}},92733:(e,t,s)=>{"use strict";s.d(t,{b:()=>r});var a=s(26248);let r=(0,a.createServerReference)("008b0ee705046773f459a88572ff2944041ee4eda2",a.callServer,void 0,a.findSourceMapURL,"getCategories")},97269:(e,t,s)=>{"use strict";s.d(t,{W:()=>i});var a=s(21590);s(70376);var r=s(24785),n=s(42385),o=s(99344);let i=async e=>{try{let t=await (0,n.UL)(),s=t.get("access_token")?.value;if(!s)throw Error("JWT token not found in cookies.");console.log("Token found:",s.substring(0,10)+"...");let a=new FormData;a.append("name",e.name),a.append("detail",e.description),a.append("price",e.price.toString()),a.append("categoryId",e.categoryId.toString());let o=e.imageFile.split(",")[1],i=Buffer.from(o,"base64"),l=new Blob([i],{type:"image/png"});return a.append("image",l,"product-image.png"),console.log("Sending request with token in header"),(await r.A.post("http://localhost:3001/products",a,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${s}`}})).data}catch(e){throw console.error("Error creating product:",e),e}};(0,o.D)([i]),(0,a.A)(i,"7f8fe70644aa9bb0033cb4df6dc1b76f73ce616f67",null)},97643:(e,t,s)=>{"use strict";s.d(t,{Wu:()=>l,ZB:()=>i,Zp:()=>n,aR:()=>o,wL:()=>c});var a=s(45512);s(58009);var r=s(59462);function n({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function o({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function i({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...t})}function l({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...t})}function c({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",e),...t})}}};